# TabHub 安装和使用指南

## 安装步骤

### 1. 构建项目
```bash
npm run build
```

### 2. 加载扩展到 Chrome

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"**开发者模式**"
4. 点击"**加载已解压的扩展程序**"
5. 选择项目中的 `.output/chrome-mv3` 文件夹

### 3. 如果之前已经加载过扩展

**重要：** 如果之前加载过旧版本，需要先**删除**旧扩展，然后重新加载：

1. 在 `chrome://extensions/` 页面找到 TabHub 扩展
2. 点击"**移除**"按钮删除旧版本
3. 重新点击"**加载已解压的扩展程序**"
4. 选择 `.output/chrome-mv3` 文件夹

## 权限说明

新版本包含以下权限：
- ✅ **tabs** - 读取和管理页签信息
- ✅ **storage** - 保存用户设置和数据
- ✅ **notifications** - 发送通知提醒
- ✅ **<all_urls>** - 访问所有网站的页签信息

## 故障排查

### 如果仍然看不到页签信息：

1. **确认权限已授予**
   - 在 `chrome://extensions/` 中点击 TabHub 扩展的"详情"
   - 检查"权限"部分是否包含上述权限

2. **检查控制台错误**
   - 右键点击 TabHub 扩展图标
   - 选择"审查弹出内容"
   - 查看控制台（Console）是否有错误信息

3. **尝试刷新页签**
   - 打开一些网页（如 https://www.google.com）
   - 点击 TabHub 图标，查看是否显示页签信息

4. **完全重新安装**
   ```bash
   # 1. 删除输出目录
   rm -rf .output

   # 2. 重新构建
   npm run build

   # 3. 在 Chrome 中删除旧扩展并重新加载
   ```

## 测试功能

扩展加载成功后，你应该能看到：

- ✅ 当前打开的页签数量
- ✅ 预估内存占用
- ✅ 页签列表（带标题和图标）
- ✅ 按域名分组的页签
- ✅ 搜索功能
- ✅ 批量操作按钮

## 开发模式（实时调试）

如果需要实时调试，使用：

```bash
npm run dev
```

这会启动开发服务器，修改代码后自动重新加载扩展。

## 常见问题

**Q: 为什么有些页签没有图标？**
A: 某些网站不提供 favicon，或者是浏览器内部页面（如 chrome://）

**Q: 为什么内存占用是估算值？**
A: Chrome 扩展 API 不提供直接的内存查询接口，我们使用算法估算

**Q: 可以在隐私模式使用吗？**
A: 需要在扩展详情页面开启"在隐身模式下启用"选项
